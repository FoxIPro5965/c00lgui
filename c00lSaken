local Players=game:GetService("Players")
local ReplicatedStorage=game:GetService("ReplicatedStorage")
local RunService=game:GetService("RunService")
local Lighting=game:GetService("Lighting")
local VirtualInputManager=game:GetService("VirtualInputManager")
local lp=Players.LocalPlayer
local PlayerGui=lp:WaitForChild("PlayerGui")

local attackIds={
["126830014841198"]=true,["126355327951215"]=true,["121086746534252"]=true,
["18885909645"]=true,["98456918873918"]=true,["105458270463374"]=true,
["83829782357897"]=true,["125403313786645"]=true,["118298475669935"]=true,
["82113744478546"]=true,["70371667919898"]=true,["99135633258223"]=true,
["97167027849946"]=true,["109230267448394"]=true,["139835501033932"]=true,
["126896426760253"]=true,["109667959938617"]=true,["126681776859538"]=true,
["129976080405072"]=true,["121293883585738"]=true,
["81639435858902"]=true,["137314737492715"]=true,["92173139187970"]=true,
["122709416391"]=true,["879895330952"]=true
}

local Rayfield=loadstring(game:HttpGet("https://sirius.menu/rayfield"))()
local Window=Rayfield:CreateWindow({
Name="c00lSaken",
LoadingTitle="c00lSaken",
LoadingSubtitle="by FoxOfficial",
ConfigurationSaving={Enabled=true,FolderName="c00lSaken",FileName="Config"},
KeySystem=false
})

local AutoBlockTab=Window:CreateTab("Autoblock",4483362458)
local BackstabTab=Window:CreateTab("AutoBackstab",4483362458)
local VisualTab=Window:CreateTab("Visuals",4483362458)
local OtherTab=Window:CreateTab("Other",4483362458)

local autoBlock=false
local range=12
local facingCheck=true
local autoPunch=false
local aimPunch=false
local aimPrediction=0.8

local backstab=false
local backstabRange=8
local backstabMode="Behind"

local visualEnabled=false
local showKiller=false
local showSurvivor=false
local showItems=false
local showGen=false

local infStamina=false
local jumpEnabled=false
local hitbox=false
local HitboxModule
local autoGen=false
local autoGenSpeed=0.115

local anti1x1=false
local undetectedMode=false
local antiFakeNoli=false

AutoBlockTab:CreateToggle({Name="Autoblock",Callback=function(v)autoBlock=v end})
AutoBlockTab:CreateInput({Name="Range",PlaceholderText="12",Callback=function(v)range=tonumber(v)or range end})
AutoBlockTab:CreateToggle({Name="Facing Check",Callback=function(v)facingCheck=v end})
AutoBlockTab:CreateToggle({Name="Autopunch",Callback=function(v)autoPunch=v end})
AutoBlockTab:CreateToggle({Name="Aimpunch",Callback=function(v)aimPunch=v end})
AutoBlockTab:CreateSlider({Name="Prediction",Range={0,5},Increment=0.1,CurrentValue=0.8,Callback=function(v)aimPrediction=v end})

BackstabTab:CreateToggle({Name="AutoBackstab",Callback=function(v)backstab=v end})
BackstabTab:CreateInput({Name="Range",PlaceholderText="8",Callback=function(v)backstabRange=tonumber(v)or backstabRange end})
BackstabTab:CreateDropdown({Name="Mode",Options={"Behind","Around"},CurrentOption="Behind",Callback=function(v)backstabMode=v end})

VisualTab:CreateToggle({Name="Highlight",Callback=function(v)visualEnabled=v end})
VisualTab:CreateToggle({Name="Killer",Callback=function(v)showKiller=v end})
VisualTab:CreateToggle({Name="Survivor",Callback=function(v)showSurvivor=v end})
VisualTab:CreateToggle({Name="Generator",Callback=function(v)showGen=v end})
VisualTab:CreateToggle({Name="Medkit & BloxyCola",Callback=function(v)showItems=v end})

OtherTab:CreateToggle({Name="INF STAMINA",Callback=function(v)infStamina=v end})
OtherTab:CreateToggle({Name="Jump",Callback=function(v)jumpEnabled=v end})

OtherTab:CreateToggle({
Name="Hitbox",
Callback=function(v)
hitbox=v
if v then
HitboxModule=HitboxModule or loadstring(game:HttpGet("https://raw.githubusercontent.com/FoxIPro5965/c00lgui/main/Hitbox.lua"))()
HitboxModule:ExtendHitbox(1.15,600)
elseif HitboxModule then
HitboxModule:StopExtendingHitbox()
end
end
})

OtherTab:CreateToggle({Name="Auto gen",Callback=function(v)autoGen=v end})
OtherTab:CreateSlider({Name="Gen Speed",Range={0.01,0.5},Increment=0.005,CurrentValue=0.115,Callback=function(v)autoGenSpeed=v end})

OtherTab:CreateToggle({Name="Anti 1x1 Pop-up",Callback=function(v)anti1x1=v end})
OtherTab:CreateToggle({Name="Undetected Mode",Callback=function(v)undetectedMode=v end})
OtherTab:CreateToggle({Name="Anti Fake Noli",Callback=function(v)antiFakeNoli=v end})

local function click(btnName)
local ui=PlayerGui:FindFirstChild("MainUI")
local btn=ui and ui:FindFirstChild("AbilityContainer") and ui.AbilityContainer:FindFirstChild(btnName)
if not btn then return end
for _,c in ipairs(getconnections(btn.MouseButton1Click))do pcall(function()c:Fire()end)end
pcall(function()btn:Activate()end)
end

local function isFacing(my,enemy)
local dir=(my.Position-enemy.Position).Unit
return enemy.CFrame.LookVector:Dot(dir)>0.45
end

local function hookCharacter(char)
local hum=char:WaitForChild("Humanoid",5)
local root=char:WaitForChild("HumanoidRootPart",5)
if not hum or not root then return end
hum.AnimationPlayed:Connect(function(track)
if not autoBlock and not autoPunch then return end
local id=track.Animation and track.Animation.AnimationId:match("%d+")
if id and attackIds[id] then
local my=lp.Character and lp.Character:FindFirstChild("HumanoidRootPart")
if my and (root.Position-my.Position).Magnitude<=range then
if not facingCheck or isFacing(my,root) then
click("Block")
if autoPunch then click("Punch")end
end
end
end
end)
end

for _,p in ipairs(Players:GetPlayers())do
if p~=lp then
if p.Character then hookCharacter(p.Character)end
p.CharacterAdded:Connect(hookCharacter)
end
end

Players.PlayerAdded:Connect(function(p)
if p~=lp then p.CharacterAdded:Connect(hookCharacter)end
end)

local killersFolder=workspace:WaitForChild("Players"):WaitForChild("Killers")
local lastBackstab=0
local COOLDOWN=30
local HOLD=0.285
local DIST=2.8

local function isBehind(hrp,khrp)
if(hrp.Position-khrp.Position).Magnitude>backstabRange then return false end
if backstabMode=="Around" then return true end
return(hrp.Position-khrp.Position):Dot(-khrp.CFrame.LookVector)>0.5
end

RunService.Heartbeat:Connect(function()
if not backstab or tick()-lastBackstab<COOLDOWN then return end
local hrp=lp.Character and lp.Character:FindFirstChild("HumanoidRootPart")
if not hrp then return end
for _,k in ipairs(killersFolder:GetChildren())do
local khrp=k:FindFirstChild("HumanoidRootPart")
if khrp and isBehind(hrp,khrp)then
lastBackstab=tick()
click("Dagger")
local s=tick()
local c
c=RunService.Heartbeat:Connect(function()
if tick()-s>HOLD then c:Disconnect()return end
hrp.CFrame=CFrame.new(khrp.Position-khrp.CFrame.LookVector*DIST,khrp.Position)
end)
break
end
end
end)

local oldA,oldO,oldB,oldF=Lighting.Ambient,Lighting.OutdoorAmbient,Lighting.Brightness,Lighting.FogEnd
local function bright(on)
if on then
Lighting.Ambient=Color3.new(1,1,1)
Lighting.OutdoorAmbient=Color3.new(1,1,1)
Lighting.Brightness=6
Lighting.FogEnd=0
else
Lighting.Ambient=oldA
Lighting.OutdoorAmbient=oldO
Lighting.Brightness=oldB
Lighting.FogEnd=oldF
end
end

local function addHL(obj,color)
if obj:FindFirstChild("VisualHL")then return end
local h=Instance.new("Highlight")
h.Name="VisualHL"
h.FillTransparency=1
h.OutlineTransparency=0
h.OutlineColor=color
h.Parent=obj
h.Adornee=obj
end

local function clearVisual()
for _,v in ipairs(workspace:GetDescendants())do
if v:IsA("Highlight")and v.Name=="VisualHL"then v:Destroy()end
end
end

task.spawn(function()
while task.wait(0.6)do
if not visualEnabled then clearVisual()bright(false)continue end
bright(true)
clearVisual()
local pf=workspace:FindFirstChild("Players")
if pf then
if showKiller and pf:FindFirstChild("Killers")then
for _,k in ipairs(pf.Killers:GetChildren())do
if k:FindFirstChild("Humanoid")then addHL(k,Color3.fromRGB(255,70,70))end
end
end
if showSurvivor and pf:FindFirstChild("Survivors")then
for _,s in ipairs(pf.Survivors:GetChildren())do
if s:FindFirstChild("Humanoid")then addHL(s,Color3.fromRGB(70,255,70))end
end
end
end
if showItems then
for _,i in ipairs(workspace:GetDescendants())do
if i.Name=="Medkit"or i.Name=="BloxyCola"then addHL(i,Color3.fromRGB(180,0,255))end
end
end
if showGen then
for _,g in ipairs(workspace:GetDescendants())do
if g.Name:lower():find("generator")then addHL(g,Color3.fromRGB(255,255,0))end
end
end
end
end)

task.spawn(function()
while task.wait(0.1) do
if not anti1x1 then continue end
local temp=lp.PlayerGui:FindFirstChild("TemporaryUI")
if temp then
for _,i in ipairs(temp:GetChildren()) do
if i.Name=="1x1x1x1Popup" then
local cx=i.AbsolutePosition.X+i.AbsoluteSize.X/2
local cy=i.AbsolutePosition.Y+i.AbsoluteSize.Y/2
VirtualInputManager:SendMouseButtonEvent(cx,cy,0,true,lp.PlayerGui,1)
VirtualInputManager:SendMouseButtonEvent(cx,cy,0,false,lp.PlayerGui,1)
end
end
end
end
end)

task.spawn(function()
local Notify=loadstring(game:HttpGet("https://raw.githubusercontent.com/Gazer-Ha/NOT-MINE/refs/heads/main/AkaliNotify"))()
local Undetectable=require(ReplicatedStorage.Modules.StatusEffects.Undetectable)
local animationId="rbxassetid://75804462760596"
local loadedAnim=nil
local function play(char)
local hum=char and char:FindFirstChildOfClass("Humanoid")
if hum then
local anim=Instance.new("Animation")
anim.AnimationId=animationId
loadedAnim=hum:LoadAnimation(anim)
loadedAnim:Play()
loadedAnim:AdjustSpeed(0)
end
end
local function stop()
if loadedAnim then loadedAnim:Stop() loadedAnim=nil end
end
local oA=Undetectable.Applied
local oR=Undetectable.Removed
Undetectable.Applied=function(d)
if undetectedMode and d.Player==lp then play(d.Character or d.Player.Character) end
return oA(d)
end
Undetectable.Removed=function(d)
if undetectedMode and d.Player==lp then stop() end
return oR(d)
end
end)

task.spawn(function()
while task.wait(0.8) do
if not antiFakeNoli then continue end
for _,m in ipairs(workspace:GetChildren()) do
if m:IsA("Model") then
local n=m.Name:lower()
local hum=m:FindFirstChildOfClass("Humanoid")
local hrp=m:FindFirstChild("HumanoidRootPart")
local k=n:find("illusion") or n:find("fake") or n:find("decoy") or n:find("clone") or n:find("noli")
local f=false
if hum and hum.Health<=0 then f=true end
if hum and hum.MaxHealth<=1 then f=true end
if not hum and hrp then f=true end
if k and f then pcall(function()m:Destroy()end) end
end
end
end
end)

task.spawn(function()
local sprint=require(ReplicatedStorage.Systems.Character.Game.Sprinting)
while task.wait(1)do
if infStamina then sprint.Stamina=sprint.MaxStamina or 100 end
end
end)

task.spawn(function()
while task.wait(0.2)do
local hum=lp.Character and lp.Character:FindFirstChildOfClass("Humanoid")
if hum then hum.JumpPower=jumpEnabled and 60 or 0 end
end
end)
